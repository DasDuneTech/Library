<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Set FireBase Config</title>
</head>
<body>

    <br>
    <br>

    <div id = "idToken" style="display:none;">hi</div>

    <textarea id="config" name="w3review" rows="4" cols="50">
        FireBase web app config
        </textarea>

        <br>
        <br>

        <button id="setConfig"  >SetConfig</button>

        <script>

            let serverUrl = location.origin 

            document.getElementById(`setConfig`).addEventListener('click', async() => { 

            let info = document.getElementById(`config`).value

            try {
                let res = await fetch(`${serverUrl}/setConfig`, 
                { method: `POST`,
                headers: {'Content-Type': `application/json`},
                body:info})
                if(!res.ok) throw `Cannot clear the sheet :: ${res.statusText}`
            }
            catch(err){
                console.trace()
                console.log(err)
            }
        })
        </script>


</body>
</html>